! function (t, n) {
    "use strict";
    var i = function () {
        function t(t, n) {
            this.$el = t, this.holdtime = 0, this.currIndex = 0, this.animating = !1, this.init()
        }
        var i = {
            throttle: function (t, n, i) {
                var e = null,
                    o = 0;
                return function () {
                    var r = this,
                        s = arguments,
                        c = Date.now();
                    i && c - o >= i ? (o = c, t.apply(r, s)) : (e && clearTimeout(e), e = setTimeout(function () {
                        t.apply(r, s)
                    }, n))
                }
            }
        };
        return t.prototype = {
            constructor: t,
            init: function () {
                this.initHTML(), this.bindEvent()
            },
            initHTML: function () {
                this.$el.children(".section").css({
                    //          height: "100%",
                    transition: "all 0.5s",
                    "-webkit-transition": "all 0.5s"
                })
            },
            bindEvent: function () {
                var t, e, o, r, s, c, h = this;
                $(".js-scroll").on("click", function (event) {
                        var hold = 0;
                        var first = 0;
                        event.preventDefault();
                        if ($(this).hasClass('hold')) {
                            hold = 3800;
                            first = 1;
                            }
                        var addr = $(this).attr('href');
                        var ind = $(addr).index();
                        if (ind !== h.currIndex)
                            h.gotoTarget(ind, hold, first);
                        return ('false');
                    }),
                    n(window).on("wheel DOMMouseScroll", i.throttle(function () {
                        var n = arguments[0].originalEvent;
                        var holdtime = 0;
                        var first = 0;
                        if($("#lnkstyle").hasClass('first')) {
                            $("#lnkstyle").removeClass('first');
                            first = 1;
                            }
                        if (h.currIndex == 0 && first) {
                            holdtime = 3800;
                            defaultplay();
                        }
                        c = n.wheelDelta ? n.wheelDelta : -n.detail, t = h.currIndex + (c > 0 ? -1 : 1), h.gotoTarget(t, holdtime, first)
                    }, 25)), this.$el.on("touchstart", function (t) {
                        e = t.touches[0].clientX, o = t.touches[0].clientY
                    }), this.$el.on("touchmove", i.throttle(function () {
                        var holdtime = 0;
                        var first = 0;
                        if($("#lnkstyle").hasClass('first')) {
                            $("#lnkstyle").removeClass('first');
                            first = 1;
                            }
                        if (h.currIndex == 0 && first) {
                            holdtime = 3800;
                            defaultplay();
                        }
                        console.log("move");
                        var n = arguments[0];
                        e && o && (r = n.touches[0].clientX - e, s = n.touches[0].clientY - o, t = h.currIndex + (s > 0 ? -1 : 1), h.gotoTarget(t, holdtime, first))
                    }, 16))
            },
            gotoTarget: function (t, delaytime, numb) {
                var i, e = this.$el.children(".section"),
                    o = this;
                if (e[t]) {
                    var els = document.querySelectorAll(".on");
                    for (var jjj = 0, lll = els.length; jjj < lll; jjj++) {
                        els[jjj].classList.remove("on");
                    }
                    var csect = document.querySelectorAll(".current" );
                    for (var kkk = 0, mmm = csect.length; kkk < mmm; kkk++) {
                        csect[kkk].classList.remove("firsttime");
                        csect[kkk].classList.remove("current");
                    }
                    var aels = document.querySelectorAll("[href='#" + e[t].id + "']");
                    var asect = document.querySelectorAll("#" + e[t].id );
                    asect[0].classList.add("current");
                    if (numb !== 0)
                        asect[0].classList.add("firsttime");
                    for (var jj = 0, ll = aels.length; jj < ll; jj++) {
                        aels[jj].classList.add("on");
                    }
                }
                this.animating || t < 0 || t > this.$el.children(".section").length - 1 || (i = "translateY(-" + 100 * t + "%)", this.animating = !0, n(e[0]).on("transitionend", function t() {
                    this.removeEventListener("transitionend", t), o.animating = !1
                }), setTimeout(function () {
                    e.css({
                        transform: i,
                        "-webkit-transform": i
                    })
                }, delaytime), this.currIndex = t)
            }
        }, t
    }();
    n.fn.fullpage = function (t) {
        return this.each(function () {
            new i(n(this), t)
        }), this
    }
}(0, this.jQuery);
